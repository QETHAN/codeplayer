<!DOCTYPE html>
<html>
<head>
    <title>newsticker</title>
</head>
<body>
    <pre id="progress" style="width:200px;background-color: teal;overflow: hidden;"></pre>
    <script>
        (function(){
            console.log('-------->');
            var msg = "沿着坡陡弯急的山路，李克强来到旬阳县金坡村。这里青壮年大多外出务工。村民杨秀峰长期在沿海捕鱼，在家留守的父母和女儿看到总理，喜出望外。",
                len = 25,
                pos = 0,
                //空格
                padding = msg.replace(/./g," ").substr(0,len),
                finalMsg = padding + msg;
            console.log('---->'+padding.length);

            function updateText() {
                var curMsg = finalMsg.substr(pos++, len);
                document.getElementById('progress').innerHTML = curMsg;
                if(pos == finalMsg.length) {
                    pos = 0;
                }
                setTimeout(updateText,100);
            }
            setTimeout(updateText,100);
        })();
    </script>
</body>
</html>