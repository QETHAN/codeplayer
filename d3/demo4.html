<!DOCTYPE html>
<html>
<head>
    <title>div data</title>
    <style>
        body {
            padding: 10px;
            background: #000;
        }

        .charts {
            margin: 200px 0 0 300px;
            position: relative;
        }

        div.bar {
            display: inline-block;
            background: #333;
            /*margin-right: 10px;*/
            color: #fff;
            font-family: Arial;
            font-size: 12px;
            position: absolute;
            bottom: 0;
        }
    </style>
    <script src="d3.v3.min.js"></script>
</head>
<body>
<div class="charts"></div>
<script>
    var dataset = [];
    for (var i = 0; i < 21; i++) {
        var newNum = Math.floor(Math.random() * 30);
        dataset.push(newNum);
    }

    d3.select('div.charts').selectAll('div')
            .data(dataset)
            .enter()
            .append('div')
            .attr('class', 'bar')
            .transition()
            .delay(function (d, i) {
                return i / dataset.length * 1000
            })
            .delay(function(d, i){
                return i / dataset.length * 3000
            })
            .duration(1000)
            .style('left', function(d,i){
                return i * 24 + 'px';
            })
            .style('width', '20px')
            .style('height', function (d) {
                return d * 4 + 'px';
            });


</script>
</body>
</html>